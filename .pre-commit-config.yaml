exclude: (?x)^(
    (
    \.venv|
    \.direnv|
    website/node_modules|
    cdk\.out
    )/
    )$
repos:
    # Security
    - repo: https://github.com/PyCQA/bandit
      rev: "1.8.3"
      hooks:
          - id: bandit
            args: ["-x", "tests"]
    - repo: https://github.com/Yelp/detect-secrets
      rev: v1.5.0
      hooks:
          - id: detect-secrets

    # General checks
    - repo: https://github.com/pre-commit/pre-commit-hooks
      rev: v5.0.0
      hooks:
          - id: check-json
          - id: check-yaml
          - id: check-case-conflict
          - id: trailing-whitespace
          - id: mixed-line-ending
            args: ["--fix=lf"]
          - id: fix-byte-order-marker
          - id: check-merge-conflict
          - id: detect-private-key
          - id: detect-aws-credentials
            args:
                - --allow-missing-credentials

    # Spelling
    - repo: https://github.com/codespell-project/codespell
      rev: v2.4.1
      hooks:
          - id: codespell
            entry: bash -c 'codespell "$@" || true' --
            verbose: true

    # Python â€” ruff replaces black, flake8, isort, pyupgrade
    - repo: https://github.com/astral-sh/ruff-pre-commit
      rev: v0.9.10
      hooks:
          - id: ruff
            args: [--fix]
          - id: ruff-format
